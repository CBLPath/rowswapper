var RowSwapper={version:"0.1.0",setDefaults:function(){this.defaults={listTable:jQuery(".listTable"),selectTable:jQuery(".selectTable"),addButton:jQuery(".addSelectedRows"),removeButton:jQuery(".removeSelectedRows"),addClass:"selectedRow",updateAttr:"id"}},initialize:function(e){this.setDefaults();if(!this.isDefined(e)){e={}}var t=jQuery.extend({},this.defaults,e);this.listTable=t.listTable;this.selectTable=t.selectTable;this.tables=jQuery.merge(jQuery.merge([],this.listTable),this.selectTable);this.addButton=t.addButton;this.removeButton=t.removeButton;this.addClass=t.addClass;this.updateAttr=t.updateAttr;if(this.isDefined(t.updateField)){this.updateField=t.updateField}if(typeof t.afterAdd=="function"){this.afterAdd=t.afterAdd}if(typeof t.afterRemove=="function"){this.afterRemove=t.afterRemove}if(typeof t.afterBoth=="function"){this.afterBoth=t.afterBoth}this.addTriggers()},addTriggers:function(){var e=this;jQuery(e.tables).find(":not(thead) > tr").click(function(){jQuery(this).toggleClass(e.addClass)});e.addButton.click(function(){RowSwapper.addSelectedRows();return false});e.removeButton.click(function(){RowSwapper.removeSelectedRows();return false})},addSelectedRows:function(){this.swapRows(this.listTable,this.selectTable);if(typeof this.afterAdd=="function"){this.afterAdd()}},removeSelectedRows:function(){this.swapRows(this.selectTable,this.listTable);if(typeof this.afterRemove=="function"){this.afterRemove()}},swapRows:function(e,t){var n=this,r=e.find("."+n.addClass);r.removeClass(n.addClass).detach();t.children("tbody:last").append(r);if(n.isDefined(n.updateField)){n.doFieldUpdate()}if(typeof this.afterBoth=="function"){this.afterBoth()}},doFieldUpdate:function(){var e=this,t=this.selectTable.find("tr"),n=jQuery.map(t,function(t,n){return jQuery(t).data(e.updateAttr)});e.updateField.val(n.join())},isDefined:function(e){return typeof e!=="undefined"&&e!==null}}
